(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{504:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"修改历史记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改历史记录"}},[t._v("#")]),t._v(" 修改历史记录")]),t._v(" "),a("p",[t._v("这是html5新增的方法，可以替换页面的地址，页面却并不会重新载入跳转。此时进行刷新，页面则会直接变为被替换的页面，而上一个页面则不会存在于历史记录中")]),t._v(" "),a("p",[t._v("新建标签页进入B站"),a("a",{attrs:{href:"https://www.bilibili.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.bilibili.com"),a("OutboundLink")],1),t._v("，打开浏览器控制台console，执行下面的代码，即可发现无法点击返回，首页面已从浏览器历史记录中消失了，取而代之的是番剧区的页面")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.bilibili.com/anime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("这个功能可以用在例如项目的登录跳转功能，控制用户在登录后进入的页面点击返回按钮不会回到登录页"),a("br"),t._v("\n页面1 -> 登录页面 -> 会员页面 -> 返回 -> 页面1")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",[t._v("替换的页面必须保证地址与当前页面同源，即根目录需保持一致，否则会抛出错误")])]),t._v(" "),a("p",[t._v("参考文档："),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/History/replaceState",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN web docs: History.replaceState()"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);